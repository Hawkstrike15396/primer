<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Preceptor's Primer for Bayesian Data Science: Using the Cardinal Virtues for Inference – 5&nbsp; Three Parameters</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./09-four-parameters.html" rel="next">
<link href="./07-two-parameters.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./08-three-parameters.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Three Parameters</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">
      Preceptor's Primer for Bayesian Data Science: Using the Cardinal Virtues for Inference
      </a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/PPBDS/primer/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Preceptor-s-Primer-for-Bayesian-Data-Science--Using-the-Cardinal-Virtues-for-Inference.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Preceptor-s-Primer-for-Bayesian-Data-Science--Using-the-Cardinal-Virtues-for-Inference.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
</div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preamble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preamble</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-rubin-causal-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Rubin Causal Model</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Probability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-one-parameter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">One Parameter</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-two-parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Two Parameters</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-three-parameters.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Three Parameters</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-four-parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Four Parameters</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-five-parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Five Parameters</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-n-parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">N Parameters</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Key Concepts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./set-up.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Set Up for Working on The Primer</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Style Guide</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#wisdom" id="toc-wisdom" class="nav-link active" data-scroll-target="#wisdom"><span class="header-section-number">5.1</span> Wisdom</a>
  <ul class="collapse">
<li><a href="#preceptor-table" id="toc-preceptor-table" class="nav-link" data-scroll-target="#preceptor-table"><span class="header-section-number">5.1.1</span> Preceptor Table</a></li>
  <li><a href="#eda-for-trains" id="toc-eda-for-trains" class="nav-link" data-scroll-target="#eda-for-trains"><span class="header-section-number">5.1.2</span> EDA for <code>trains</code></a></li>
  <li><a href="#population" id="toc-population" class="nav-link" data-scroll-target="#population"><span class="header-section-number">5.1.3</span> Population</a></li>
  <li><a href="#population-table" id="toc-population-table" class="nav-link" data-scroll-target="#population-table"><span class="header-section-number">5.1.4</span> Population Table</a></li>
  </ul>
</li>
  <li>
<a href="#age-party" id="toc-age-party" class="nav-link" data-scroll-target="#age-party"><span class="header-section-number">5.2</span> age ~ party</a>
  <ul class="collapse">
<li><a href="#wisdom-1" id="toc-wisdom-1" class="nav-link" data-scroll-target="#wisdom-1"><span class="header-section-number">5.2.1</span> Wisdom</a></li>
  <li><a href="#justice" id="toc-justice" class="nav-link" data-scroll-target="#justice"><span class="header-section-number">5.2.2</span> Justice</a></li>
  <li><a href="#courage" id="toc-courage" class="nav-link" data-scroll-target="#courage"><span class="header-section-number">5.2.3</span> Courage</a></li>
  <li><a href="#temperance" id="toc-temperance" class="nav-link" data-scroll-target="#temperance"><span class="header-section-number">5.2.4</span> Temperance</a></li>
  <li><a href="#addendum" id="toc-addendum" class="nav-link" data-scroll-target="#addendum"><span class="header-section-number">5.2.5</span> Addendum</a></li>
  </ul>
</li>
  <li>
<a href="#att_end-treatment" id="toc-att_end-treatment" class="nav-link" data-scroll-target="#att_end-treatment"><span class="header-section-number">5.3</span> att_end ~ treatment</a>
  <ul class="collapse">
<li><a href="#wisdom-2" id="toc-wisdom-2" class="nav-link" data-scroll-target="#wisdom-2"><span class="header-section-number">5.3.1</span> Wisdom</a></li>
  <li><a href="#justice-1" id="toc-justice-1" class="nav-link" data-scroll-target="#justice-1"><span class="header-section-number">5.3.2</span> Justice</a></li>
  <li><a href="#courage-1" id="toc-courage-1" class="nav-link" data-scroll-target="#courage-1"><span class="header-section-number">5.3.3</span> Courage</a></li>
  <li><a href="#temperance-1" id="toc-temperance-1" class="nav-link" data-scroll-target="#temperance-1"><span class="header-section-number">5.3.4</span> Temperance</a></li>
  </ul>
</li>
  <li>
<a href="#income-age" id="toc-income-age" class="nav-link" data-scroll-target="#income-age"><span class="header-section-number">5.4</span> income ~ age</a>
  <ul class="collapse">
<li><a href="#justice-2" id="toc-justice-2" class="nav-link" data-scroll-target="#justice-2"><span class="header-section-number">5.4.1</span> Justice</a></li>
  <li><a href="#courage-2" id="toc-courage-2" class="nav-link" data-scroll-target="#courage-2"><span class="header-section-number">5.4.2</span> Courage</a></li>
  <li><a href="#temperance-2" id="toc-temperance-2" class="nav-link" data-scroll-target="#temperance-2"><span class="header-section-number">5.4.3</span> Temperance</a></li>
  </ul>
</li>
  <li>
<a href="#liberal-income" id="toc-liberal-income" class="nav-link" data-scroll-target="#liberal-income"><span class="header-section-number">5.5</span> liberal ~ income</a>
  <ul class="collapse">
<li><a href="#justice-3" id="toc-justice-3" class="nav-link" data-scroll-target="#justice-3"><span class="header-section-number">5.5.1</span> Justice</a></li>
  <li><a href="#courage-3" id="toc-courage-3" class="nav-link" data-scroll-target="#courage-3"><span class="header-section-number">5.5.2</span> Courage</a></li>
  <li><a href="#temperance-3" id="toc-temperance-3" class="nav-link" data-scroll-target="#temperance-3"><span class="header-section-number">5.5.3</span> Temperance</a></li>
  </ul>
</li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">5.6</span> Summary</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/PPBDS/primer/edit/main/08-three-parameters.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-three-parameters" class="quarto-section-identifier"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Three Parameters</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><!-- Need a separate Preceptor Table for each question. Do the whole cycle each time, doing an EDA of the variables you want to use for that question. --><!-- Need a table which shows all 4 (?) languages for describing a model together: English, math, code, output. ? --><!-- DK: Clean up these residuals plots to be similar across chapters! Also, we should ensure that the width of 10 units is the same in each plot. Or does that already happen? Want the intuition that, the more predictive the model, the smaller the remaining variation in the residuals. The below is from chapter 7. --><!-- Come up with common ways in which a lack of representativeness causes problems. This is a list of things that we can check each time when we are interrogating a data science problem. Key issue is the correlation, if anything, between the "assignment mechanism" or "sampling mechanism" and other variables. Discuss sampling mechanism in all cases except att_end ~ treatment. For that, use "assignment mechanism." --><p>Models have parameters. In <a href="06-one-parameter.html"><span>Chapter&nbsp;3</span></a> we created models with a single parameter <span class="math inline">\(p\)</span>, the proportion of red beads in an urn. In <a href="07-two-parameters.html"><span>Chapter&nbsp;4</span></a>, we used models with two parameters: <span class="math inline">\(\mu\)</span> (the average height in the population, generically known as a model “intercept”) and <span class="math inline">\(\sigma\)</span> (the variation in height in the population). Here — can you guess where this is going? — we will build models with three parameters: <span class="math inline">\(\sigma\)</span> (which serves the same role throughout the book) and two “coefficients.” In models which relate a continuous predictor to the outcome, those two parameters will be labeled <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span>. In models which estimate two averages, the parameters will be <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span>. All this notation is confusing, not least because different academic fields use inconsistent schemes. Follow the Cardinal Virtues and tackle your problem step by step.</p>
<p>Perhaps more importantly, a focus on parameters is less relevant now than it was decades ago, when computational limitations made answering our actual questions harder. <em>Parameters are imaginary.</em> They don’t exist. They, in general, are not the answer to an real world question. They are tools, along with the models of which they are a part, we use to answer questions.</p>
<section id="wisdom" class="level2" data-number="5.1"><h2 data-number="5.1" class="anchored" data-anchor-id="wisdom">
<span class="header-section-number">5.1</span> Wisdom</h2>
<section id="preceptor-table" class="level3" data-number="5.1.1"><h3 data-number="5.1.1" class="anchored" data-anchor-id="preceptor-table">
<span class="header-section-number">5.1.1</span> Preceptor Table</h3>
<p>Wisdom begins with considering the questions we desire to answer and the data set we are given. In this chapter, we are going to ask a series of questions involving train commuters’ ages, party affiliations, incomes, and political ideology, as well as the causal effect of exposure to Spanish-speakers on their attitude toward immigration. These questions will pertain to all train commuters in the US today. Given these types of questions, the Preceptor Table would be:</p>
<div class="cell">
<div class="cell-output-display">

<div id="pgogphxqwm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pgogphxqwm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pgogphxqwm thead, #pgogphxqwm tbody, #pgogphxqwm tfoot, #pgogphxqwm tr, #pgogphxqwm td, #pgogphxqwm th {
  border-style: none;
}

#pgogphxqwm p {
  margin: 0;
  padding: 0;
}

#pgogphxqwm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pgogphxqwm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pgogphxqwm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pgogphxqwm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pgogphxqwm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pgogphxqwm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pgogphxqwm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pgogphxqwm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pgogphxqwm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pgogphxqwm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pgogphxqwm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pgogphxqwm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pgogphxqwm .gt_spanner_row {
  border-bottom-style: hidden;
}

#pgogphxqwm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pgogphxqwm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pgogphxqwm .gt_from_md > :first-child {
  margin-top: 0;
}

#pgogphxqwm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pgogphxqwm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pgogphxqwm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pgogphxqwm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pgogphxqwm .gt_row_group_first td {
  border-top-width: 2px;
}

#pgogphxqwm .gt_row_group_first th {
  border-top-width: 2px;
}

#pgogphxqwm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pgogphxqwm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pgogphxqwm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pgogphxqwm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pgogphxqwm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pgogphxqwm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pgogphxqwm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pgogphxqwm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pgogphxqwm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pgogphxqwm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pgogphxqwm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pgogphxqwm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pgogphxqwm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pgogphxqwm .gt_left {
  text-align: left;
}

#pgogphxqwm .gt_center {
  text-align: center;
}

#pgogphxqwm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pgogphxqwm .gt_font_normal {
  font-weight: normal;
}

#pgogphxqwm .gt_font_bold {
  font-weight: bold;
}

#pgogphxqwm .gt_font_italic {
  font-style: italic;
}

#pgogphxqwm .gt_super {
  font-size: 65%;
}

#pgogphxqwm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pgogphxqwm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pgogphxqwm .gt_indent_1 {
  text-indent: 5px;
}

#pgogphxqwm .gt_indent_2 {
  text-indent: 10px;
}

#pgogphxqwm .gt_indent_3 {
  text-indent: 15px;
}

#pgogphxqwm .gt_indent_4 {
  text-indent: 20px;
}

#pgogphxqwm .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Preceptor Table</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-size: large; text-align: left; vertical-align: middle;" scope="col" id="ID">ID</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Age">Age</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Party">Party</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Income">Income</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Liberal">Liberal</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Control Ending Attitude">Control Ending Attitude</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Treated Ending Attitude">Treated Ending Attitude</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Commuter 1</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>23</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>50000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Liberal</p>
</div></td>
<td headers="attitude_after_control" class="gt_row gt_center"><div class="gt_from_md">
<p>3</p>
</div></td>
<td headers="attitude_after_treated" class="gt_row gt_center"><div class="gt_from_md">
<p>8</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Commuter 2</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>18</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>150000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Not Liberal</p>
</div></td>
<td headers="attitude_after_control" class="gt_row gt_center"><div class="gt_from_md">
<p>7</p>
</div></td>
<td headers="attitude_after_treated" class="gt_row gt_center"><div class="gt_from_md">
<p>7</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="attitude_after_control" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="attitude_after_treated" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Commuter 1000</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>49</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>100000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Liberal</p>
</div></td>
<td headers="attitude_after_control" class="gt_row gt_center"><div class="gt_from_md">
<p>4</p>
</div></td>
<td headers="attitude_after_treated" class="gt_row gt_center"><div class="gt_from_md">
<p>8</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Commuter 1001</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>38</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>200000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Liberal</p>
</div></td>
<td headers="attitude_after_control" class="gt_row gt_center"><div class="gt_from_md">
<p>9</p>
</div></td>
<td headers="attitude_after_treated" class="gt_row gt_center"><div class="gt_from_md">
<p>7</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="attitude_after_control" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="attitude_after_treated" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Recall: a Preceptor Table is the smallest possible table such that, if there is no missing data, all our questions are easy to answer. To answer questions — like “What is, today, the average age of train commuters in the US?” — we need a row for every train commuter.</p>
<p>Notice that one of our questions is about a causal effect: What change in immigration attitudes is caused by being exposed to Spanish-speakers? Answering causal questions requires (at least) two potential outcomes: immigration attitudes when people receive the treatment of being exposed to Spanish-speakers and immigration attitudes, for those same people, when they don’t receive the treatment.</p>
<p>Having created the Preceptor Table, we now look at the data we have: the <code>trains</code> data set from the <strong>primer.data</strong> package.</p>
</section><section id="eda-for-trains" class="level3" data-number="5.1.2"><h3 data-number="5.1.2" class="anchored" data-anchor-id="eda-for-trains">
<span class="header-section-number">5.1.2</span> EDA for <code>trains</code>
</h3>
<p><em>Always explore your data.</em> Recall the discussion from <a href="04-rubin-causal-model.html"><span>Chapter&nbsp;1</span></a>. <span class="citation" data-cites="enos2014">Enos (<a href="references.html#ref-enos2014" role="doc-biblioref">2014</a>)</span> randomly placed Spanish-speaking confederates on nine train platforms around Boston, Massachusetts. Exposure to Spanish-speakers – the <code>treatment</code> – (potentially) influenced attitudes toward immigration. These reactions were measured through changes in answers to three survey questions. Load the necessary libraries and look at the data.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">primer.data</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mc-stan.org/rstanarm/">rstanarm</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">trains</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 115
Columns: 14
$ treatment      &lt;fct&gt; Treated, Treated, Treated, Treated, Control, Treated, C…
$ att_start      &lt;dbl&gt; 11, 9, 3, 11, 8, 13, 13, 10, 12, 9, 10, 11, 13, 6, 8, 1…
$ att_end        &lt;dbl&gt; 11, 10, 5, 11, 5, 13, 13, 11, 12, 10, 9, 9, 13, 7, 8, 1…
$ gender         &lt;chr&gt; "Female", "Female", "Male", "Male", "Male", "Female", "…
$ race           &lt;chr&gt; "White", "White", "White", "White", "White", "White", "…
$ liberal        &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, F…
$ party          &lt;chr&gt; "Democrat", "Republican", "Democrat", "Democrat", "Demo…
$ age            &lt;int&gt; 31, 34, 63, 45, 55, 37, 53, 36, 54, 42, 33, 50, 24, 40,…
$ income         &lt;dbl&gt; 135000, 105000, 135000, 300000, 135000, 87500, 87500, 1…
$ line           &lt;chr&gt; "Framingham", "Framingham", "Framingham", "Framingham",…
$ station        &lt;chr&gt; "Grafton", "Southborough", "Grafton", "Grafton", "Graft…
$ hisp_perc      &lt;dbl&gt; 0.0264, 0.0154, 0.0191, 0.0191, 0.0191, 0.0231, 0.0304,…
$ ideology_start &lt;int&gt; 3, 4, 1, 4, 2, 5, 5, 4, 4, 4, 3, 5, 4, 1, 2, 2, 3, 4, 2…
$ ideology_end   &lt;int&gt; 3, 4, 2, 4, 2, 5, 5, 4, 3, 4, 3, 4, 4, 1, 2, 3, 3, 1, 2…</code></pre>
</div>
</div>
<p>The data include information about each respondent’s gender, political affiliations, age, income and so on. <code>treatment</code> indicates whether a subject was in the control or treatment group. The key outcomes are their attitudes toward immigration both before (<code>att_start</code>) and after (<code>att_end</code>) the experiment. Type <code><a href="https://rdrr.io/pkg/primer.data/man/trains.html">?trains</a></code> to read the help page for more information about each variable.</p>
<p>Let’s restrict attention to a subset of the variables we need to answer our questions, as specified in the Preceptor Table. <code>age</code> is the age of the respondent; <code>party</code> is their political party affiliation; <code>liberal</code> is whether they are liberal or not; <code>income</code> is the income of the respondent; <code>treatment</code> specifies whether the respondent was given the treatment of being exposed to Spanish-speakers in the train station; and <code>att_end</code> tell us about the respondent’s attitude toward immigration after the experiment.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ch5</span> <span class="op">&lt;-</span> <span class="va">trains</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">att_end</span>, <span class="va">party</span>, <span class="va">income</span>, <span class="va">treatment</span>, <span class="va">liberal</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It is always smart to look at a some random slices of the data:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ch5</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 6
    age att_end party    income treatment liberal
  &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;fct&gt;     &lt;lgl&gt;  
1    36      10 Democrat 105000 Treated   TRUE   
2    35       8 Democrat  87500 Treated   TRUE   
3    63      10 Democrat 250000 Control   FALSE  
4    38       9 Democrat  87500 Control   FALSE  
5    35      14 Democrat 105000 Treated   FALSE  </code></pre>
</div>
</div>
<p><code>att_end</code> is a measure of person’s attitude toward immigration. A higher number means more conservative, i.e., a more exclusionary stance toward immigration into the United States.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ch5</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 115
Columns: 6
$ age       &lt;int&gt; 31, 34, 63, 45, 55, 37, 53, 36, 54, 42, 33, 50, 24, 40, 53, …
$ att_end   &lt;dbl&gt; 11, 10, 5, 11, 5, 13, 13, 11, 12, 10, 9, 9, 13, 7, 8, 13, 8,…
$ party     &lt;chr&gt; "Democrat", "Republican", "Democrat", "Democrat", "Democrat"…
$ income    &lt;dbl&gt; 135000, 105000, 135000, 300000, 135000, 87500, 87500, 135000…
$ treatment &lt;fct&gt; Treated, Treated, Treated, Treated, Control, Treated, Contro…
$ liberal   &lt;lgl&gt; FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE,…</code></pre>
</div>
</div>
<p>Pay attention to the variable types. Do they make sense? Perhaps. But there are certainly grounds for suspicion. Why is <code>att_end</code> a double rather than an integer? All the values in the data appear to be integers, so there is no benefit to having these variables be doubles. Why is <code>party</code> a character variable and <code>treatment</code> a factor variable? It could be that these are intentional choices made by the creator of the tibble, i.e., us. Or, these could be mistakes. Most likely, these choices are a mixture of sensible and arbitrary. Regardless, it is your responsibility to notice them. You can’t make a good model without looking closely at the data which you are using.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ch5</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      age           att_end          party               income      
 Min.   :20.00   Min.   : 3.000   Length:115         Min.   : 23500  
 1st Qu.:33.00   1st Qu.: 7.000   Class :character   1st Qu.: 87500  
 Median :43.00   Median : 9.000   Mode  :character   Median :135000  
 Mean   :42.37   Mean   : 9.139                      Mean   :141813  
 3rd Qu.:52.00   3rd Qu.:11.000                      3rd Qu.:135000  
 Max.   :68.00   Max.   :15.000                      Max.   :300000  
   treatment   liberal       
 Treated:51   Mode :logical  
 Control:64   FALSE:64       
              TRUE :51       
                             
                             
                             </code></pre>
</div>
</div>
<p><code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> shows us what the different values of <code>treatment</code> are because it is a factor. Unfortunately, it does not do the same for character variables like <code>party</code>. The ranges for <code>age</code> and <code>att_end</code> seem reasonable. Recall that participants were asked three questions about immigration issues, each of which allowed for an answer indicated strength of agreement on a scale form 1 to 5, with higher values indicating more agreement with conservative viewpoints. <code>att_end</code> is the sum of the responses to the three questions, so the most liberal possible value is 3 and the most conservative is 15.</p>
</section><section id="population" class="level3" data-number="5.1.3"><h3 data-number="5.1.3" class="anchored" data-anchor-id="population">
<span class="header-section-number">5.1.3</span> Population</h3>
<!-- Combo of old things from different sections and new explanations, need to combine and clarify -->
<!-- One of the key jobs of a data scientist is to guide people --- our colleagues, bosses and clients --- toward asking precise questions. We must help them to translate English into inference. That translation requires precision. -->
<p>The data that we have are very limited. There are only 115 observations, all from 2012 and involving train commuters to Boston. <em>Can we assume that the the data we have and the data in our Preceptor Table are drawn from the same population?</em> Only your judgment, along with advice from your colleagues, can guide you.</p>
<p>There is no <strong>truth</strong> here. The data is real enough, but you created the Preceptor Table. Whether or not there is a population from which you can assume both the data and the Preceptor Table might have been drawn is not a TRUE/FALSE question.</p>
<p>The Preceptor Table is all US train commuters today. However, the data we have involves train commuters in the Boston area in 2012. Can we assume the this data from Boston in 2012 is drawn from the same population as all train commuters in the US today?</p>
<p>The key concept is the idea of a “population.” From which larger population is the data we have being (conceptually) drawn? If we were only interested in the age of individuals in our data set, we would have no need for inference. <em>We know everyone’s ages already.</em> We only need tools like <code><a href="https://mc-stan.org/rstanarm/reference/stan_glm.html">stan_glm()</a></code> if we seek to understand individuals not in our data.</p>
<p>The issue is always: Do the data we have and the data we want to have come from the same population? If there is no connection between the two, progress is impossible. But, in this case, if we are willing to consider the population to be US train commuters over the last decade (including today), and if we are willing to assume that there is a single population from which the Preceptor Table and our data set is drawn, then we can use our data to create a model to answer our questions.</p>
<p><em>Validity</em> is the assumption which allows us to consider the Preceptor Table and our data to have been drawn from the same population.</p>
<p>Consider the treatment variable. What does it mean for somebody to receive the treatment? Let’s say somebody was running late on their way to the train in the morning. Well, this person may have heard the Spanish-speakers for a shorter amount of time than a commuter who arrived earlier. Similarly, some Spanish-speakers may have been speaking louder than others or some commuters may have been closer to the speakers than other commuters. Therefore, these commuters would hear the treatment of being exposed to Spanish-speakers less loudly than the other commuters. Additionally, the Spanish-speakers weren’t the same for every train station in our 2012 data and if we were to get data for now, we wouldn’t be able to hire the exact same Spanish-speakers. When considering validity with reference to treatments, what we must determine is if we can assume that the treatments of being exposed to Spanish-speakers that each commuter may experience a bit differently can be assumed to be the same.</p>
<p>Consider the validity of <code>age</code> and <code>income</code>. Recall that validity refers to whether or not we can consider the columns <code>age</code> and <code>income</code> to have the same meaning in our data set of 2012 Boston train commuters and in our Preceptor Table. While <code>age</code> doesn’t really change meaning over time, <code>income</code> can be impacted by inflation. After all, $100,000 in 2012 doesn’t have the same worth as $100,000 now due to inflation and now would have less purchasing power. This would result in income being underestimated within our model. However, since there hasn’t been drastic inflation that dramatically changed the buying power, we will consider income to be valid. If there had been like 300% inflation, however, our conclusion would probably be different.</p>
<p>Look at the validity of the <code>liberal</code> variable. This column has the values “Liberal” and “Not Liberal” to convey the political ideology of the train commuters. We must determine if the column <code>liberal</code>, and therefore the meaning of being liberal, is the same in Boston in 2012 as in the US in 2023. If we can determine these to be the same, then we can assume validity, and in this case, because the core beliefs of being liberal have not changed very much between 2012 and 2023, we can determine that the data is valid.</p>
<p>Overall, the assumption of <em>validity</em> seems reasonable. <code>age</code>, <code>treatment</code> and other variables are similar enough between our data and The Preceptor Table that we can “stack” them on top of each other. We can assume that both are drawn from the same population.</p>
</section><section id="population-table" class="level3" data-number="5.1.4"><h3 data-number="5.1.4" class="anchored" data-anchor-id="population-table">
<span class="header-section-number">5.1.4</span> Population Table</h3>
<p>Having determined that the Preceptor Table and the data were drawn from the same population, we can produce a Population Table.</p>
<p>The Population Table includes rows from three sources: the <strong>Preceptor Table</strong>, the <strong>actual data</strong>, and all <em>other</em> members of the population.</p>
<p>The rows in the <strong>Preceptor Table</strong> contain the information that we would <em>want</em> to know in order to answer our questions. These rows contain entries for our covariates but they do not contain any outcome results. We are trying to answer questions about the train commuter population in 2023, so our city entries for these rows will vary and our year entries of these rows will read “2023”.</p>
<p>Our <strong>actual data</strong> rows contain the information that we <em>do</em> know. These rows contain entries for both our covariates <em>and</em> the outcomes. In this case, the actual data comes from a study conducted on train commuters around Boston, MA in 2012, so our city entries for these rows will read “Boston, MA” and our year entries of these rows will read “2012”.</p>
<p>Our <strong>other</strong> rows contain no data. These are subjects which are members of our assumed population, but for which we have no data. As such, all outcomes and covariates are missing. The “Other” rows may include, for example, data from a range of years before and after 2012, since we considered little change overtime, so we would also consider this data to be representative and drawn from the larger population of train commuters in years near 2012.</p>
<p>The Population Table includes commuters from our Preceptor Table with the information that we would ideally have to answer the questions and those from the data we have that is specific to Boston, MA. Additionally, the Population Table also includes the groups of people within the population from which both the data we have and the Preceptor table is drawn from that we don’t have.</p>
<div class="cell">
<div class="cell-output-display">

<div id="scernofcmx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#scernofcmx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#scernofcmx thead, #scernofcmx tbody, #scernofcmx tfoot, #scernofcmx tr, #scernofcmx td, #scernofcmx th {
  border-style: none;
}

#scernofcmx p {
  margin: 0;
  padding: 0;
}

#scernofcmx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#scernofcmx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#scernofcmx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#scernofcmx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#scernofcmx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#scernofcmx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scernofcmx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#scernofcmx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#scernofcmx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#scernofcmx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#scernofcmx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#scernofcmx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#scernofcmx .gt_spanner_row {
  border-bottom-style: hidden;
}

#scernofcmx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#scernofcmx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#scernofcmx .gt_from_md > :first-child {
  margin-top: 0;
}

#scernofcmx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#scernofcmx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#scernofcmx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#scernofcmx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#scernofcmx .gt_row_group_first td {
  border-top-width: 2px;
}

#scernofcmx .gt_row_group_first th {
  border-top-width: 2px;
}

#scernofcmx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#scernofcmx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#scernofcmx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#scernofcmx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scernofcmx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#scernofcmx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#scernofcmx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#scernofcmx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#scernofcmx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#scernofcmx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#scernofcmx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#scernofcmx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#scernofcmx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#scernofcmx .gt_left {
  text-align: left;
}

#scernofcmx .gt_center {
  text-align: center;
}

#scernofcmx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#scernofcmx .gt_font_normal {
  font-weight: normal;
}

#scernofcmx .gt_font_bold {
  font-weight: bold;
}

#scernofcmx .gt_font_italic {
  font-style: italic;
}

#scernofcmx .gt_super {
  font-size: 65%;
}

#scernofcmx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#scernofcmx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#scernofcmx .gt_indent_1 {
  text-indent: 5px;
}

#scernofcmx .gt_indent_2 {
  text-indent: 10px;
}

#scernofcmx .gt_indent_3 {
  text-indent: 15px;
}

#scernofcmx .gt_indent_4 {
  text-indent: 20px;
}

#scernofcmx .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="9" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Population Table</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-size: large; text-align: left; vertical-align: middle;" scope="col" id="Source">Source</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="City">City</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Age">Age</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Party">Party</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Income">Income</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Liberal">Liberal</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Treatment">Treatment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Control">Control</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2008</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2009</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Data</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>Boston, MA</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2012</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>43</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>150000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Liberal</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>6</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Data</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>Boston, MA</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2012</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>52</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>50000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Not Liberal</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>2</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2013</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2014</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Preceptor Table</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>Wilmington, DE</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2023</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>45</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>45000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Not Liberal</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Preceptor Table</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>Atlanta, GA</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2023</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>65</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>15000</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>Not Liberal</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2030</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="city" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="year" class="gt_row gt_center"><div class="gt_from_md">
<p>2032</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="income" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="liberal" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_treat" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="att_control" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Our Preceptor Table rows are chronologically ordered. The “other” rows are our greater population for which we are making assumptions — this is why the year at the start is earlier than our data and the year at the end is later than our Preceptor Table. This shows the more expansive population about which we are making inferences.</p>
</section></section><section id="age-party" class="level2" data-number="5.2"><h2 data-number="5.2" class="anchored" data-anchor-id="age-party">
<span class="header-section-number">5.2</span> age ~ party</h2>
<p>We want to build a model and then use that model to make claims about the world. Our questions about the relationship between <code>age</code> and <code>party</code> are the following:</p>
<p><em>What is the probability that, if a Democrat shows up at the train station, he will be over 50 years old?</em></p>
<p><em>In a group of three Democrats and three Republicans, what will the age difference be between the oldest Democrat and the youngest Republican?</em></p>
<p>We can answer these and similar questions by creating a model that uses party affiliation to predict age</p>
<section id="wisdom-1" class="level3" data-number="5.2.1"><h3 data-number="5.2.1" class="anchored" data-anchor-id="wisdom-1">
<span class="header-section-number">5.2.1</span> Wisdom</h3>
<div class="cell">
<div class="cell-output-display">
<p><img src="other/images/Wisdom.jpg" class="img-fluid" width="1280"></p>
</div>
</div>
<p>Wisdom requires the creation of a Preceptor Table, an examination of our data, and a determination, using the concept of “validity,” as to whether or not we can (reasonably!) assume that the two come from the same <em>population</em>.</p>
<p>Let’s take a look at our question below:</p>
<p><em>What is the probability that, if a Democrat shows up at US train stations now, he will be over 50 years old?</em></p>
<p>First, we need to take a look at the model of our question. Do we have a <strong>causal</strong> or <strong>predictive</strong> model? In our question above we have a predictive model as we only have one outcome: <code>age</code> based on our predictor: <code>party</code>. A good way at looking at this is with a Preceptor Table, as seen below. Since our data does not include all Republicans and Democrats in the world, not every row is filled in. Our Preceptor Table only contains one possible outcome: <code>age</code>, which means that we have a <strong>predictive</strong> model at hand.</p>
<p>Second, we need to evaluate what our units are for our situation. When taking a look at the Preceptor Table below: we can view that all our ID’s are dependent on each individual. Our units for this scenario would be the individuals because there are several individuals at the station.</p>
<p>Next, when taking a look at the Preceptor Table we can view that we only have one outcome based on each individual and covariate of party. Our outcome of age changes based on each individual and party that is with them.</p>
<p>Finally, do we have a treatment? No, treatments will only apply to the situations with causal models, however, we do have covariates which in this case is our party. Our covariate is party in this situation because it plays a huge role in being a predictor for our outcome for each separate ID.</p>
<p>Now we can create our Preceptor Table:</p>
<div class="cell">
<div class="cell-output-display">

<div id="dkjsgzqkej" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dkjsgzqkej table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dkjsgzqkej thead, #dkjsgzqkej tbody, #dkjsgzqkej tfoot, #dkjsgzqkej tr, #dkjsgzqkej td, #dkjsgzqkej th {
  border-style: none;
}

#dkjsgzqkej p {
  margin: 0;
  padding: 0;
}

#dkjsgzqkej .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dkjsgzqkej .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dkjsgzqkej .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dkjsgzqkej .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dkjsgzqkej .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dkjsgzqkej .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dkjsgzqkej .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dkjsgzqkej .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dkjsgzqkej .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dkjsgzqkej .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dkjsgzqkej .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dkjsgzqkej .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dkjsgzqkej .gt_spanner_row {
  border-bottom-style: hidden;
}

#dkjsgzqkej .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dkjsgzqkej .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dkjsgzqkej .gt_from_md > :first-child {
  margin-top: 0;
}

#dkjsgzqkej .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dkjsgzqkej .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dkjsgzqkej .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dkjsgzqkej .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dkjsgzqkej .gt_row_group_first td {
  border-top-width: 2px;
}

#dkjsgzqkej .gt_row_group_first th {
  border-top-width: 2px;
}

#dkjsgzqkej .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkjsgzqkej .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dkjsgzqkej .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dkjsgzqkej .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dkjsgzqkej .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkjsgzqkej .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dkjsgzqkej .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dkjsgzqkej .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dkjsgzqkej .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dkjsgzqkej .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dkjsgzqkej .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkjsgzqkej .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dkjsgzqkej .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkjsgzqkej .gt_left {
  text-align: left;
}

#dkjsgzqkej .gt_center {
  text-align: center;
}

#dkjsgzqkej .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dkjsgzqkej .gt_font_normal {
  font-weight: normal;
}

#dkjsgzqkej .gt_font_bold {
  font-weight: bold;
}

#dkjsgzqkej .gt_font_italic {
  font-style: italic;
}

#dkjsgzqkej .gt_super {
  font-size: 65%;
}

#dkjsgzqkej .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dkjsgzqkej .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dkjsgzqkej .gt_indent_1 {
  text-indent: 5px;
}

#dkjsgzqkej .gt_indent_2 {
  text-indent: 10px;
}

#dkjsgzqkej .gt_indent_3 {
  text-indent: 15px;
}

#dkjsgzqkej .gt_indent_4 {
  text-indent: 20px;
}

#dkjsgzqkej .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Preceptor Table</td>
    </tr>
<tr class="gt_col_headings gt_spanner_row">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" style="font-size: large; text-align: left; vertical-align: middle;" scope="col" id="ID">ID</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="1" scope="col" id="Predictor">
        <span class="gt_column_spanner">Predictor</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="1" scope="col" id="Outcome">
        <span class="gt_column_spanner">Outcome</span>
      </th>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Party">Party</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Age">Age</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>1</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>D</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>31</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>2</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>10</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>D</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>58</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>11</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>20</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>21</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>R</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>49</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>N</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Recall: a Preceptor Table is table with rows and columns such that, if there is no missing data, all our questions are easy to answer. To answer questions — like “What is the probability that, if a Democrat shows up at the train station, he will be over 50 years old?” — we need a row for every individual at the station.</p>
<p><em>Always explore your data.</em> Recall the discussion from <a href="04-rubin-causal-model.html"><span>Chapter&nbsp;1</span></a>. <span class="citation" data-cites="enos2014">Enos (<a href="references.html#ref-enos2014" role="doc-biblioref">2014</a>)</span> randomly placed Spanish-speaking confederates on nine train platforms around Boston, Massachusetts. The data that we want to analyze consists of the age and party of each individual on these train platforms based on our variables in our Preceptor Table. These reactions were measured through changes in answers to three survey questions. Load the necessary libraries and look at the data.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">primer.data</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://mc-stan.org/rstanarm/">rstanarm</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">trains</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">party</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 115 × 2
     age party     
   &lt;int&gt; &lt;chr&gt;     
 1    31 Democrat  
 2    34 Republican
 3    63 Democrat  
 4    45 Democrat  
 5    55 Democrat  
 6    37 Democrat  
 7    53 Republican
 8    36 Democrat  
 9    54 Democrat  
10    42 Republican
# ℹ 105 more rows</code></pre>
</div>
</div>
<p>As specified in the Preceptor Table we only care about <code>age</code> is the age of the respondent and <code>party</code> is their political party affiliation.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">trains</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">party</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      age           party          
 Min.   :20.00   Length:115        
 1st Qu.:33.00   Class :character  
 Median :43.00   Mode  :character  
 Mean   :42.37                     
 3rd Qu.:52.00                     
 Max.   :68.00                     </code></pre>
</div>
</div>
<p><code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> shows us what the different values of <code>age</code> and <code>party</code> are because it is a factor. The range for <code>age</code> seems reasonable. Recall that participants were asked three questions about immigration issues, each of which allowed for an answer indicated strength of agreement on a scale form 1 to 5, with higher values indicating more agreement with conservative viewpoints.</p>
<p>Now let’s take a look at the <strong>assumption of validity</strong> for our data and Preceptor Table. There is no <strong>truth</strong> here. The data is real enough, but you created the Preceptor Table. Whether or not there is a population from which you can assume both the data and the Preceptor Table might have been drawn is not a TRUE/FALSE question. The Preceptor Table is all US train commuters today. However, the data we have involves train commuters in the Boston area in 2012. In addition, is our data from the Preceptor Table accurate? The data has been collected from filling out surveys about age without checking a driver’s license. The data has been collected from filling out surveys about party without going to the train station. Finally, the privacy of a train station differs from filling out surveys at home. While all of these questions and assumptions prove validity wrong, overall, the assumption of validity seems reasonable. <code>age</code> and <code>party</code> are similar enough between our data and The Preceptor Table that we can “stack” them on top of each other. We can assume that both are drawn from the same population.</p>
<p>With our assumption of validity proving to be reasonably accurate, we can now create our Population Table. We can make a Population Table with our Preceptor Table and other data based on our assumptions that we have made. With the assumption of validity proving to be reasonable we are able to construct a Population Table because we have been able to confirm that our rows in the Preceptor Table and data are similar.</p>
<div class="cell">
<div class="cell-output-display">

<div id="xwkmmtcpfm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xwkmmtcpfm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xwkmmtcpfm thead, #xwkmmtcpfm tbody, #xwkmmtcpfm tfoot, #xwkmmtcpfm tr, #xwkmmtcpfm td, #xwkmmtcpfm th {
  border-style: none;
}

#xwkmmtcpfm p {
  margin: 0;
  padding: 0;
}

#xwkmmtcpfm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xwkmmtcpfm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xwkmmtcpfm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xwkmmtcpfm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xwkmmtcpfm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xwkmmtcpfm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xwkmmtcpfm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xwkmmtcpfm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xwkmmtcpfm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xwkmmtcpfm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xwkmmtcpfm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xwkmmtcpfm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xwkmmtcpfm .gt_spanner_row {
  border-bottom-style: hidden;
}

#xwkmmtcpfm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xwkmmtcpfm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xwkmmtcpfm .gt_from_md > :first-child {
  margin-top: 0;
}

#xwkmmtcpfm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xwkmmtcpfm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xwkmmtcpfm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xwkmmtcpfm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xwkmmtcpfm .gt_row_group_first td {
  border-top-width: 2px;
}

#xwkmmtcpfm .gt_row_group_first th {
  border-top-width: 2px;
}

#xwkmmtcpfm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xwkmmtcpfm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xwkmmtcpfm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xwkmmtcpfm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xwkmmtcpfm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xwkmmtcpfm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xwkmmtcpfm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xwkmmtcpfm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xwkmmtcpfm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xwkmmtcpfm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xwkmmtcpfm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xwkmmtcpfm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xwkmmtcpfm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xwkmmtcpfm .gt_left {
  text-align: left;
}

#xwkmmtcpfm .gt_center {
  text-align: center;
}

#xwkmmtcpfm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xwkmmtcpfm .gt_font_normal {
  font-weight: normal;
}

#xwkmmtcpfm .gt_font_bold {
  font-weight: bold;
}

#xwkmmtcpfm .gt_font_italic {
  font-style: italic;
}

#xwkmmtcpfm .gt_super {
  font-size: 65%;
}

#xwkmmtcpfm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xwkmmtcpfm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xwkmmtcpfm .gt_indent_1 {
  text-indent: 5px;
}

#xwkmmtcpfm .gt_indent_2 {
  text-indent: 10px;
}

#xwkmmtcpfm .gt_indent_3 {
  text-indent: 15px;
}

#xwkmmtcpfm .gt_indent_4 {
  text-indent: 20px;
}

#xwkmmtcpfm .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Population Table</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-size: large; text-align: left; vertical-align: middle;" scope="col" id="Source">Source</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Age">Age</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Party">Party</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Data</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>43</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Democrat</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Data</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>52</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Preceptor Table</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>45</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Preceptor Table</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>65</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>Republican</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="source" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>Other</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Our Preceptor Table rows are chronologically ordered. The “other” rows are our greater population for which we are making assumptions — this is why the year at the start is earlier than our data and the year at the end is later than our Preceptor Table. This shows the more expansive population about which we are making inferences.</p>
</section><section id="justice" class="level3" data-number="5.2.2"><h3 data-number="5.2.2" class="anchored" data-anchor-id="justice">
<span class="header-section-number">5.2.2</span> Justice</h3>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="other/images/Justice.jpg" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Justice</figcaption></figure>
</div>
</div>
</div>
<p>Justice concerns four topics: stability, representativeness, unconfoundedness and the mathematical structure of the model.</p>
<p>We then must consider the stability of our model. <strong>Stability</strong> means that the relationship between the columns is the same for three categories of rows: the data, the Preceptor table, and the larger population from which both are drawn. With something like height, it is much easier to assume stability over a greater period of time. Changes in global height occur extremely slowly, so height being stable across a span of 20 years is reasonable to assume. With something like political ideology, it is much harder to make the assertion that data collected in 2010 would be stable to data collected in 2030. When we are confronted with this uncertainty, we can consider making our timeframe smaller. However, we would still need to assume stability from 2014 (time of data collection) to today. Stability allows us to ignore the issue of time.</p>
<p>Next, let’s consider representativeness. <strong>Representativeness</strong> has to do with how well our sample represents the larger population we are interested in generalizing to. Does the train experiment allow us to calculate a causal effect for people who commute by cars? Can we calculate the causal effect for people in New York City? Before we generalize to broader populations we have to consider if our experimental estimates are applicable beyond our experiment. Generally: <em>if there was no chance that a certain type of person would have been in this experiment, we cannot make an assumption for that person</em>.</p>
<p>Next, let’s consider unconfoundedness. <strong>Unconfoundedness</strong> means that the treatment assignment is independent of the potential outcomes, when we condition on pre-treatment covariates. However, with our scenario, we have a predictive model and this assumption is only relevant for causal models.</p>
<!-- MM: kind of DGM should be discussing linear or logistic -->
<p>Now let’s discuss the kind of DGM we will be using. For our purposes, we will be choosing between linear or logistic, however, there are several different types of distributions which we will not be dealing with at the moment. Let’s recall the difference between linear and logistic models, which is dependent upon the outcome variable. If the outcome variable is continuous, we will use the a linear model, and when the outcome variable is binary, or only has two options, we will use a logistic model. In this case, our outcome variable is age which is continous, so it is a linear model.</p>
<p>We can also consider the type of DGM. Any DGM with age as its dependent variable will be predictive, not causal, for the simple reason that nothing, other than time, can change your age. You are X years old. It would not matter if you changed your party registration from Democrat to Republican or vice versa. Your age is your age. When dealing with a non-causal DGM, the focus is on predicting things. The underlying mechanism which connects age with party is less important than the brute statistical fact that there is a connection. <em>Predictive models care little about causality.</em></p>

<!-- Preceptor Tables should be laid out like the formula: outcome on left, predictors on right. -->
<p>A good way at looking at this is with a Preceptor Table, as seen below. Unlike the previous table in <a href="07-two-parameters.html"><span>Chapter&nbsp;4</span></a>, we now have two columns in addition to ID. Since our data does not include all Republicans and Democrats in the world, not every row is filled in.</p>
<div class="cell">
<div class="cell-output-display">

<div id="jfntyddmxp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jfntyddmxp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jfntyddmxp thead, #jfntyddmxp tbody, #jfntyddmxp tfoot, #jfntyddmxp tr, #jfntyddmxp td, #jfntyddmxp th {
  border-style: none;
}

#jfntyddmxp p {
  margin: 0;
  padding: 0;
}

#jfntyddmxp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jfntyddmxp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jfntyddmxp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jfntyddmxp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jfntyddmxp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jfntyddmxp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jfntyddmxp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jfntyddmxp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jfntyddmxp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jfntyddmxp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jfntyddmxp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jfntyddmxp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jfntyddmxp .gt_spanner_row {
  border-bottom-style: hidden;
}

#jfntyddmxp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jfntyddmxp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jfntyddmxp .gt_from_md > :first-child {
  margin-top: 0;
}

#jfntyddmxp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jfntyddmxp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jfntyddmxp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jfntyddmxp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jfntyddmxp .gt_row_group_first td {
  border-top-width: 2px;
}

#jfntyddmxp .gt_row_group_first th {
  border-top-width: 2px;
}

#jfntyddmxp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfntyddmxp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jfntyddmxp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jfntyddmxp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jfntyddmxp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfntyddmxp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jfntyddmxp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jfntyddmxp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jfntyddmxp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jfntyddmxp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jfntyddmxp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfntyddmxp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jfntyddmxp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jfntyddmxp .gt_left {
  text-align: left;
}

#jfntyddmxp .gt_center {
  text-align: center;
}

#jfntyddmxp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jfntyddmxp .gt_font_normal {
  font-weight: normal;
}

#jfntyddmxp .gt_font_bold {
  font-weight: bold;
}

#jfntyddmxp .gt_font_italic {
  font-style: italic;
}

#jfntyddmxp .gt_super {
  font-size: 65%;
}

#jfntyddmxp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jfntyddmxp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jfntyddmxp .gt_indent_1 {
  text-indent: 5px;
}

#jfntyddmxp .gt_indent_2 {
  text-indent: 10px;
}

#jfntyddmxp .gt_indent_3 {
  text-indent: 15px;
}

#jfntyddmxp .gt_indent_4 {
  text-indent: 20px;
}

#jfntyddmxp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Preceptor Table</td>
    </tr>
<tr class="gt_col_headings gt_spanner_row">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="2" colspan="1" style="font-size: large; text-align: left; vertical-align: middle;" scope="col" id="ID">ID</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="1" scope="col" id="Predictor">
        <span class="gt_column_spanner">Predictor</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="1" scope="col" id="Outcome">
        <span class="gt_column_spanner">Outcome</span>
      </th>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Party">Party</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Age">Age</th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>1</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>D</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>31</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>2</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>473</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>D</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>58</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>474</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>3,258</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>3,259</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>R</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>49</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>…</p>
</div></td>
</tr>
<tr>
<td headers="ID" class="gt_row gt_left" style="border-right-width: 1px; border-right-style: solid; border-right-color: #000000;"><div class="gt_from_md">
<p>N</p>
</div></td>
<td headers="party" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
<td headers="age" class="gt_row gt_center"><div class="gt_from_md">
<p>?</p>
</div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>We now know that we are working with a predictive DGM. Recall:</p>
<p><span class="math display">\[\text{outcome} = \text{model} + \text{not in the model}\]</span></p>
<p>In words, any event depends on our explicitly described model as well as on influences unknown to us. Everything that happens in the world is the result of various factors, and we can only consider some of them in our model (because we do not know about some influences, or because we have no data about them).</p>
<!-- Review concept of dummy variables in the context of the intercept model with categorical predictor. -->
<p>Let’s make our DGM. The mathematics:</p>
<p><span class="math display">\[ y_i = \beta_1 republican_i + \beta_2 democrat_i + \epsilon_i\]</span></p>
<p>where <span class="math display">\[republican_i, democrat_i \in \{0,1\}\]</span> <span class="math display">\[republican_i +  democrat_i = 1\]</span> <span class="math display">\[\epsilon_i \sim N(0, \sigma^2)\]</span></p>
<p>Don’t panic dear poets and philosophers, the whole thing is easier than it looks. This will follow the form above in which the outcome is the result of what is in our model and not in our model.</p>
<!-- This whole section is very awkward. Start with which is data and which is parameters. -->
<p>On the left-hand side we have the outcome, <span class="math inline">\(y_i\)</span>, which is the variable to be explained. In our case, this is the age of an individual in the population.</p>
<p>The right-hand side contains two parts, that which is contained within the model, and that which isn’t.</p>
<ul>
<li>First, we have the part contained in the model, which consists of the parameter and the data points. The betas are our two parameters: <span class="math inline">\(\beta_1\)</span> is the average age of Republicans in the population and <span class="math inline">\(\beta_2\)</span> is the average age of Democrats in the population. <span class="math inline">\(republican_i\)</span> and <span class="math inline">\(democrat_i\)</span> are our explanatory variables and take the values 1 or 0. As shown in our model, <span class="math inline">\(\beta_1 republican_i\)</span> and <span class="math inline">\(\beta_2 democrat_i\)</span> are two similar terms which are added together to make our model and each term consists of a parameter and a data point. If person <span class="math inline">\(i\)</span> is a Republican we have <span class="math inline">\(republican_i = 1\)</span> and <span class="math inline">\(democrat_i = 0\)</span>. If person <span class="math inline">\(i\)</span> is a Democrat we have <span class="math inline">\(republican_i = 0\)</span> and <span class="math inline">\(democrat_i = 1\)</span>. In other words, their values are mutually exclusive – if you are a Democrat, you cannot also be a Republican.</li>
</ul>
<!-- "Connected to" is awkward here. --><ul>
<li>The second part in the right-hand side, <span class="math inline">\(\epsilon_i\)</span> (“epsilon”), represents the unexplained part of the outcome and is called the error term. This includes all factors that have an influence on someone’s age but are not related to party affiliation. In other words, <span class="math inline">\(\epsilon_i\)</span> is what influence age that is not factored into our model. We assume that this error follows a normal distribution with an expected value of 0 (meaning it is 0 on average) and it is simply the difference between the outcome and our model predictions.</li>
</ul>
<p>Some things to note about our model:</p>
<ul>
<li><p>The small <span class="math inline">\(i\)</span>’s are an index to number the observations. It is equivalent to the “ID” column in our Preceptor Table and simply states that the outcome for person <span class="math inline">\(i\)</span> is explained by the modeled and non-modeled factors for person <span class="math inline">\(i\)</span>.</p></li>
<li><p>The model is a claim about how the world works, not just for the 115 individuals for which we have data but for the all the people in the population for which we seek to draw inferences.</p></li>
<li><p>Although terminology differs across academic fields, the most common term to describe a model like this is a “regression.” We are “regressing” <code>age</code> on <code>party</code> in order to see if they are associated with each other. The formula above is a “regression formula”, and the model is a “regression model.” This terminology would also apply to our model of <code>height</code> in <a href="07-two-parameters.html"><span>Chapter&nbsp;4</span></a>.</p></li>
<li><p>The model in <a href="07-two-parameters.html"><span>Chapter&nbsp;4</span></a> is sometimes called “intercept-only” because the only (interesting) parameter is the intercept. Here we have a “two intercept” model because, instead of estimating an average for the whole population, we are estimating two averages.</p></li>
</ul></section><section id="courage" class="level3" data-number="5.2.3"><h3 data-number="5.2.3" class="anchored" data-anchor-id="courage">
<span class="header-section-number">5.2.3</span> Courage</h3>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="other/images/Courage.jpg" class="img-fluid figure-img" width="1024"></p>
<figcaption class="figure-caption">Courage</figcaption></figure>
</div>
</div>
</div>
<p>Courage allows us to translate math to code.</p>
<p>To get posterior distributions for our three parameters, we will again use <code><a href="https://mc-stan.org/rstanarm/reference/stan_glm.html">stan_glm()</a></code>, just as we did in <a href="07-two-parameters.html"><span>Chapter&nbsp;4</span></a>.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mc-stan.org/rstanarm/reference/stan_glm.html">stan_glm</a></span><span class="op">(</span><span class="va">age</span> <span class="op">~</span> <span class="va">party</span> <span class="op">-</span> <span class="fl">1</span>, </span>
<span>                    data <span class="op">=</span> <span class="va">trains</span>, </span>
<span>                    family <span class="op">=</span> <span class="va">gaussian</span>,</span>
<span>                    seed <span class="op">=</span> <span class="fl">17</span>,</span>
<span>                    refresh <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>The variable before the tilde, <code>age</code>, is our outcome.</p></li>
<li><p>The only explanatory variable is <code>party</code>. This variable has only two values, ‘Democrat’ and ‘Republican’.</p></li>
<li><p>Recall that our model is linear. Since we are using a linear model, the <code>family</code> we use will be <code>gaussian</code>.</p></li>
<li><p>We have also added <code>-1</code> at the end of the equation, indicating that we do not want an intercept, which would otherwise be added by default.</p></li>
</ul>
<p>The resulting output:</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit_1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>stan_glm
 family:       gaussian [identity]
 formula:      age ~ party - 1
 observations: 115
 predictors:   2
------
                Median MAD_SD
partyDemocrat   42.6    1.2  
partyRepublican 41.2    2.7  

Auxiliary parameter(s):
      Median MAD_SD
sigma 12.3    0.8  

------
* For help interpreting the printed output see ?print.stanreg
* For info on the priors used see ?prior_summary.stanreg</code></pre>
</div>
</div>
<p><code>partyDemocrat</code> corresponds to <span class="math inline">\(\beta_1\)</span>, the average age of Democrats in the population. <code>partyRepublican</code> corresponds to <span class="math inline">\(\beta_2\)</span>, the average age of Republicans in the population. Since we don’t really care about the posterior distribution for <span class="math inline">\(\sigma\)</span>, we won’t discuss it here. Graphically:</p>
<!-- Lots to clean up about this plot! -->
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fit_1</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">sigma</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Democrat <span class="op">=</span> <span class="va">partyDemocrat</span>, Republican <span class="op">=</span> <span class="va">partyRepublican</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="va">Democrat</span><span class="op">:</span><span class="va">Republican</span>,</span>
<span>               names_to <span class="op">=</span> <span class="st">"parameter"</span>,</span>
<span>               values_to <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span>, fill <span class="op">=</span> <span class="va">parameter</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html">after_stat</a></span><span class="op">(</span><span class="va">count</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                   alpha <span class="op">=</span> <span class="fl">0.5</span>, </span>
<span>                   bins <span class="op">=</span> <span class="fl">100</span>, </span>
<span>                   position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Posterior for Average Age"</span>,</span>
<span>         subtitle <span class="op">=</span> <span class="st">"More data allows for a more precise posterior for Democrats"</span>,</span>
<span>         x <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span>         y <span class="op">=</span> <span class="st">"Probability"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html">percent_format</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="08-three-parameters_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The unknown parameters <span class="math inline">\(\beta_1\)</span> (partyDemocrat) and <span class="math inline">\(\beta_2\)</span> (partyRepublican) are still unknown. We can never know the true average age of all Democrats in the population. But we can calculate a posterior probability distribution for each parameter. Comments:</p>
<ul>
<li><p>Democrats seem slightly older than Republicans. That was true in the sample and so, almost (but not quite!) by definition, it will be true in our the posterior probability distributions.</p></li>
<li><p>Our estimate for the average age of Democrats in the population is much more precise than that for Republicans because we have five times as many Democrats as Republicans in our sample. A central lesson from <a href="06-one-parameter.html"><span>Chapter&nbsp;3</span></a> is that the more data you have related to a parameter, the narrower your posterior distribution will be.</p></li>
<li><p>There is a great deal of overlap between the two distributions. Would we be surprised if, in truth, the average age of Republicans in the population was greater than that for Democrats? Not really. We don’t have enough data to be sure either way.</p></li>
<li><p>The phrase “in the population” is doing a great deal of work because we have not said what, precisely, we mean by the “population.” Is it the set of people on those commuter platforms on those days in 2012 when the experiment was done? Is it the set of people on all platforms, including ones never visited? Is it the set of all Boston commuters? All Massachusetts residents? All US residents? Does it include people today, or can we only draw inferences for 2012? We should explore these questions in every model we create.</p></li>
<li><p>The parameters <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> can be interpreted in two ways. First, like all parameters, they are a part of the model. We need to estimate them. But, in many cases, we don’t really care what the value of the parameter is. The exact value of <span class="math inline">\(\sigma\)</span>, for example, does not really matter. Second, some parameters have a substantive interpretaion, as with <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> being the average ages in the population. But this will often not be the case! Fortunately, with such models, we can use functions like <code><a href="https://mc-stan.org/rstantools/reference/posterior_epred.html">posterior_epred()</a></code> and <code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html">posterior_predict()</a></code> to answer our questions.</p></li>
</ul>
<p>Consider a table which shows a sample of 8 individuals.</p>
<div class="cell">
<div class="cell-output-display">

<div id="towirysmzm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#towirysmzm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#towirysmzm thead, #towirysmzm tbody, #towirysmzm tfoot, #towirysmzm tr, #towirysmzm td, #towirysmzm th {
  border-style: none;
}

#towirysmzm p {
  margin: 0;
  padding: 0;
}

#towirysmzm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#towirysmzm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#towirysmzm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#towirysmzm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#towirysmzm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#towirysmzm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#towirysmzm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#towirysmzm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#towirysmzm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#towirysmzm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#towirysmzm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#towirysmzm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#towirysmzm .gt_spanner_row {
  border-bottom-style: hidden;
}

#towirysmzm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#towirysmzm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#towirysmzm .gt_from_md > :first-child {
  margin-top: 0;
}

#towirysmzm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#towirysmzm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#towirysmzm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#towirysmzm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#towirysmzm .gt_row_group_first td {
  border-top-width: 2px;
}

#towirysmzm .gt_row_group_first th {
  border-top-width: 2px;
}

#towirysmzm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#towirysmzm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#towirysmzm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#towirysmzm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#towirysmzm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#towirysmzm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#towirysmzm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#towirysmzm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#towirysmzm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#towirysmzm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#towirysmzm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#towirysmzm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#towirysmzm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#towirysmzm .gt_left {
  text-align: left;
}

#towirysmzm .gt_center {
  text-align: center;
}

#towirysmzm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#towirysmzm .gt_font_normal {
  font-weight: normal;
}

#towirysmzm .gt_font_bold {
  font-weight: bold;
}

#towirysmzm .gt_font_italic {
  font-style: italic;
}

#towirysmzm .gt_super {
  font-size: 65%;
}

#towirysmzm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#towirysmzm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#towirysmzm .gt_indent_1 {
  text-indent: 5px;
}

#towirysmzm .gt_indent_2 {
  text-indent: 10px;
}

#towirysmzm .gt_indent_3 {
  text-indent: 15px;
}

#towirysmzm .gt_indent_4 {
  text-indent: 20px;
}

#towirysmzm .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading">
<td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">8 Observations from Trains Dataset</td>
    </tr>
<tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Age</strong>"><strong>Age</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Party</strong>"><strong>Party</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Fitted</strong>"><strong>Fitted</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="<strong>Residual</strong>"><strong>Residual</strong></th>
    </tr>
</thead>
<tbody class="gt_table_body">
<tr>
<td headers="age" class="gt_row gt_center">31</td>
<td headers="party" class="gt_row gt_center">Democrat</td>
<td headers="fitted" class="gt_row gt_center">42.59</td>
<td headers="residual" class="gt_row gt_center">-11.593526</td>
</tr>
<tr>
<td headers="age" class="gt_row gt_center">34</td>
<td headers="party" class="gt_row gt_center">Republican</td>
<td headers="fitted" class="gt_row gt_center">41.19</td>
<td headers="residual" class="gt_row gt_center">-7.186270</td>
</tr>
<tr>
<td headers="age" class="gt_row gt_center">63</td>
<td headers="party" class="gt_row gt_center">Democrat</td>
<td headers="fitted" class="gt_row gt_center">42.59</td>
<td headers="residual" class="gt_row gt_center">20.406474</td>
</tr>
<tr>
<td headers="age" class="gt_row gt_center">45</td>
<td headers="party" class="gt_row gt_center">Democrat</td>
<td headers="fitted" class="gt_row gt_center">42.59</td>
<td headers="residual" class="gt_row gt_center">2.406474</td>
</tr>
<tr>
<td headers="age" class="gt_row gt_center">55</td>
<td headers="party" class="gt_row gt_center">Democrat</td>
<td headers="fitted" class="gt_row gt_center">42.59</td>
<td headers="residual" class="gt_row gt_center">12.406474</td>
</tr>
<tr>
<td headers="age" class="gt_row gt_center">37</td>
<td headers="party" class="gt_row gt_center">Democrat</td>
<td headers="fitted" class="gt_row gt_center">42.59</td>
<td headers="residual" class="gt_row gt_center">-5.593526</td>
</tr>
<tr>
<td headers="age" class="gt_row gt_center">53</td>
<td headers="party" class="gt_row gt_center">Republican</td>
<td headers="fitted" class="gt_row gt_center">41.19</td>
<td headers="residual" class="gt_row gt_center">11.813730</td>
</tr>
<tr>
<td headers="age" class="gt_row gt_center">36</td>
<td headers="party" class="gt_row gt_center">Democrat</td>
<td headers="fitted" class="gt_row gt_center">42.59</td>
<td headers="residual" class="gt_row gt_center">-6.593526</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<!-- More extreme awkwardness. -->
<p>&nbsp;</p>
<p>The fitted values are the same for all Republicans and for all Democrats, as the model produces one fitted value for each condition. This table shows how just a sample of 8 individuals captures a wide range of residuals, making it difficult to predict the age of a new individual. We can get a better picture of the unmodeled variation in our sample if we plot these three variables for all the individuals in our data.</p>
<p>The following three histograms show the actual outcomes, fitted values, and residuals of all people in <code>trains</code>:</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">outcome</span> <span class="op">&lt;-</span> <span class="va">ch5</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span>         y <span class="op">=</span> <span class="st">"Count"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">fitted</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/fitted.values.html">fitted</a></span><span class="op">(</span><span class="va">fit_1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Fitted Values"</span>,</span>
<span>         y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">70</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>resids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/residuals.html">residuals</a></span><span class="op">(</span><span class="va">fit_1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">resids</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Residuals"</span>,</span>
<span>         y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> </span>
<span>  </span>
<span></span>
<span><span class="va">outcome</span> <span class="op">+</span> <span class="va">fitted</span> <span class="op">+</span> <span class="va">res</span> <span class="op">+</span></span>
<span>  <span class="fu">plot_annotation</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Decomposition of Height into Fitted Values and Residuals"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="08-three-parameters_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The three plots are structured like our equation and table above. A value in the left plot is the sum of one value from the middle plot plus one from the right plot.</p>
<ul>
<li><p>The actual age distribution looks like a normal distribution. It is centered around 43, and it has a standard deviation of about 12 years.</p></li>
<li><p>The middle plot for the fitted values shows only two adjacent spikes, which represent the estimates for Democrats and Republicans.</p></li>
<li><p>Since the residuals plot represents the difference between the other two plots, its distribution looks like the first plot.</p></li>
</ul>
<!-- All unclear and would benefit from clean up. --><!-- DK: Add discussion of posterior predictive check. Discuss the DGM. How can we check that the DGM is ok? Answer: By creating some fake data sets, and making sure that our real data set "looks like" the fake ones. --></section><section id="temperance" class="level3" data-number="5.2.4"><h3 data-number="5.2.4" class="anchored" data-anchor-id="temperance">
<span class="header-section-number">5.2.4</span> Temperance</h3>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="other/images/Temperance.jpg" class="img-fluid figure-img" width="960"></p>
<figcaption class="figure-caption">Temperance</figcaption></figure>
</div>
</div>
</div>
<p>Recall the first questions with which we began this section:</p>
<ul>
<li>What is the probability that, if a Democrat shows up at the train station, he will be over 50 years old?</li>
</ul>
<p>So far we have only tried our model on people from our data set whose real age we already knew. This is helpful to understand the model, but our ultimate goal is to understand more about the real world, about people we don’t yet know much about. Temperance guides us to make meaningful predictions and to become aware of their known and unknown limitations.</p>
<p>Start with a simple question, what are the chances that a random Democrat is over 50 years old? First, we create a tibble with the assumed input for our model. In our case the tibble has a variable named “party” which contains a single observation with the value “Democrat”. This is a bit different than <a href="07-two-parameters.html"><span>Chapter&nbsp;4</span></a>.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">new_obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>party <span class="op">=</span> <span class="st">"Democrat"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- Does this D_age work? If so, similar discussion should be used more broadly. Also discuss R_age. Even Person_age for a random person, an analysis which accounts for the mix of Rs and Ds in the sample/population. -->
<p>Use <code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html">posterior_predict()</a></code> to create draws from the posterior for this scenario. Note that we have a new posterior distribution under consideration here. The unknown parameter, call it <span class="math inline">\(D_{age}\)</span>, is the age of a Democrat. This could be the age of a randomly selected Democrat from the population or of the next Democrat we meet or of the next Democrat we interview on the train platform. The definition of “population” determines the appropriate interpretation. Yet, regardless, <span class="math inline">\(D_{age}\)</span> is an unknown parameter. But it is not one — like <span class="math inline">\(\beta_1\)</span>, <span class="math inline">\(\beta_2\)</span>, or <span class="math inline">\(\sigma\)</span> — for which we have already created a posterior probability distribution. That is why we need <code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html">posterior_predict()</a></code>.</p>
<p><code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html">posterior_predict()</a></code> takes two arguments: the model for which the simulations should be run, and a tibble indicating for which and how many parameters we want to run these simulations. In this case, the model is the one from Courage and the tibble is the one we just created.</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html">posterior_predict</a></span><span class="op">(</span><span class="va">fit_1</span>, newdata <span class="op">=</span> <span class="va">new_obs</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">pp</span>, <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 1
     `1`
   &lt;dbl&gt;
 1  53.7
 2  37.6
 3  58.7
 4  56.3
 5  50.3
 6  52.9
 7  38.5
 8  40.1
 9  44.8
10  22.0</code></pre>
</div>
</div>
<p>The result are draws from the posterior distribution of the age of a Democrat. It is important to understand that this is not a concrete person from the <code>trains</code> dataset - the algorithm in <code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html">posterior_predict()</a></code> simply uses the existing data from <code>trains</code> to estimate this posterior distribution.</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pp</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">`1`</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html">after_stat</a></span><span class="op">(</span><span class="va">count</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                   bins <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>  <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Posterior for a Random Democrat's Age"</span>,</span>
<span>         subtitle <span class="op">=</span> <span class="st">"Individual predictions are always more variable than expected values"</span>,</span>
<span>         x <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span>         y <span class="op">=</span> <span class="st">"Probability"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html">percent_format</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="08-three-parameters_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Once we have the posterior distribution, we can answer (almost) any reasonable question. In this case, the probability that the next Democrat will be over 50 is around 28%.</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">pp</span><span class="op">$</span><span class="va">`1`</span> <span class="op">&gt;</span> <span class="fl">50</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">pp</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2775</code></pre>
</div>
</div>
<p>Recall the second question:</p>
<ul>
<li>In a group of three Democrats and three Republicans, what will the age difference be between the oldest Democrat and the youngest Republican?</li>
</ul>
<p>As before we start by creating a tibble with the assumed input. Note that the name of the column (“party”) and the observations (“Democrat”, “Republican”) must always be <em>exactly</em> as they are in the original data set. This tibble as well as our model can then be used as arguments for <code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html">posterior_predict()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>newobs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">party =</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></section></section></main>
</div>


</body></html>